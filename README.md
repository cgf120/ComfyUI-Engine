# ComfyUI Engine - ä¸‹ä¸€ä»£å·¥ä½œæµæ‰§è¡Œå¼•æ“

[![License](https://img.shields.io/badge/License-MIT-blue.svg)](LICENSE)
[![ComfyUI Version](https://img.shields.io/badge/ComfyUI-Compatible-latest-brightgreen)](https://github.com/comfyanonymous/ComfyUI)
[![Build Status](https://img.shields.io/badge/Build-Passing-success)](https://github.com/your-username/comfyui-engine)

> **ä¸“æ³¨å·¥ä½œæµæ‰§è¡Œçš„çº¯å‡€å¼•æ“**  
> å°†æ‰€æœ‰èŠ‚ç‚¹äº¤ç»™ç¤¾åŒºï¼Œä¸“æ³¨äºå·¥ä½œæµæ‰§è¡Œå·¥å…·å’ŒAPIæœåŠ¡å¢å¼ºï¼Œä¸ºAIåº”ç”¨å¼€å‘æä¾›å¼ºå¤§çš„åŸºç¡€è®¾æ–½

## ğŸ¯ é¡¹ç›®æ„¿æ™¯

ComfyUI Engine è‡´åŠ›äºæˆä¸º**çº¯ç²¹çš„å·¥ä½œæµæ‰§è¡Œå¼•æ“**ï¼Œé€šè¿‡å°†æ‰€æœ‰èŠ‚ç‚¹åŠŸèƒ½äº¤ç»™ç¤¾åŒºç»´æŠ¤ï¼Œä¸“æ³¨äºæä¾›æœ€å¼ºå¤§çš„å·¥ä½œæµç¼–æ’å’Œæ‰§è¡Œèƒ½åŠ›ã€‚æˆ‘ä»¬çš„ç›®æ ‡æ˜¯æ„å»ºä¸€ä¸ªé«˜æ€§èƒ½ã€å¯æ‰©å±•çš„AIå·¥ä½œæµåŸºç¡€è®¾æ–½ï¼Œè®©å¼€å‘è€…èƒ½å¤Ÿè½»æ¾æ„å»ºå’Œéƒ¨ç½²AIåº”ç”¨ã€‚

### ğŸš€ æ ¸å¿ƒç†å¿µ

- **å¼•æ“ä¸èŠ‚ç‚¹åˆ†ç¦»** - å¼•æ“ä¸“æ³¨æ‰§è¡Œï¼ŒèŠ‚ç‚¹äº¤ç»™ç¤¾åŒº
- **APIä¼˜å…ˆè®¾è®¡** - å¼ºåŒ–APIæœåŠ¡ï¼Œæ”¯æŒæ— å‰ç«¯éƒ¨ç½²
- **å¼€å‘è€…å‹å¥½** - æä¾›å®Œæ•´çš„æ’ä»¶å¼€å‘å·¥å…·é“¾
- **æ€§èƒ½è‡³ä¸Š** - çƒ­åŠ è½½ã€ç¼“å­˜æ¸²æŸ“ã€å¿«é€Ÿå¯åŠ¨

### ğŸ”¥ å½“å‰ç‰¹æ€§

- âœ… **çº¯å‡€å·¥ä½œæµå¼•æ“** - ç²¾ç®€åˆ°33MBï¼Œä¸“æ³¨æ‰§è¡Œæ€§èƒ½
- âœ… **å¯è§†åŒ–ç¼–æ’ç•Œé¢** - ç›´è§‚çš„èŠ‚ç‚¹è¿æ¥å’Œå·¥ä½œæµè®¾è®¡
- âœ… **å®Œæ•´APIæœåŠ¡** - å¼ºåŒ–çš„REST APIï¼Œæ”¯æŒæ— å‰ç«¯éƒ¨ç½²
- âœ… **æ’ä»¶ç³»ç»Ÿå…¼å®¹** - 100%å…¼å®¹ç°æœ‰ComfyUIç”Ÿæ€
- âœ… **æ¨¡å‹åº“ç®¡ç†** - é«˜æ•ˆçš„æ¨¡å‹æ–‡ä»¶ç»„ç»‡å’Œè®¿é—®
- âœ… **å¼€å‘è€…å·¥å…·** - å®Œæ•´çš„è°ƒè¯•å’Œå¼€å‘æ”¯æŒ

### ğŸ›£ï¸ å‘å±•è·¯çº¿å›¾

#### ğŸ¯ Phase 1: åŸºç¡€ä¼˜åŒ– (å·²å®Œæˆ)
- âœ… ç§»é™¤éæ ¸å¿ƒåŠŸèƒ½ (è®¤è¯ã€æ¨¡æ¿ã€æ³¨å†Œè¡¨ç­‰)
- âœ… ç²¾ç®€é¡¹ç›®ä½“ç§¯ (100MB+ â†’ 33MB)
- âœ… æ€§èƒ½ä¼˜åŒ–å’Œé”™è¯¯ä¿®å¤

#### ï¿½ Phase  2: å¼€å‘è€…å·¥å…· (è¿›è¡Œä¸­)
- ğŸ”„ **æ’ä»¶åˆ¶ä½œå·¥å…·** - å¯è§†åŒ–æ’ä»¶å¼€å‘ç¯å¢ƒ
- ğŸ”„ **çƒ­åŠ è½½èŠ‚ç‚¹** - æ— éœ€é‡å¯çš„èŠ‚ç‚¹æ›´æ–°æœºåˆ¶
- ğŸ”„ **èŠ‚ç‚¹æ ‡ç­¾ç³»ç»Ÿ** - APIè°ƒç”¨æ—¶çš„è¾“å…¥è¾“å‡ºæ ‡è®°

#### ğŸ”® Phase 3: æ€§èƒ½å¢å¼º (è§„åˆ’ä¸­)
- ğŸ“‹ **èŠ‚ç‚¹ç¼“å­˜æ¸²æŸ“** - é¦–æ¬¡æ¸²æŸ“åç¼“å­˜ï¼Œè§£å†³æ’ä»¶å¤šæ—¶åŠ è½½æ…¢é—®é¢˜
- ğŸ“‹ **æ¨¡å‹ç»Ÿä¸€ç®¡ç†** - æä¾›æ¨¡å‹å»é‡åŠŸèƒ½ï¼Œä¼˜åŒ–å­˜å‚¨ç©ºé—´
- ğŸ“‹ **æ™ºèƒ½é¢„åŠ è½½** - åŸºäºä½¿ç”¨æ¨¡å¼çš„é¢„æµ‹æ€§åŠ è½½
- ğŸ“‹ **åˆ†å¸ƒå¼æ‰§è¡Œ** - æ”¯æŒå¤šèŠ‚ç‚¹åˆ†å¸ƒå¼å·¥ä½œæµæ‰§è¡Œ

#### ğŸª Phase 4: æ— å‰ç«¯éƒ¨ç½² (è§„åˆ’ä¸­)
- ğŸ“‹ **çº¯APIæ¨¡å¼** - å®Œå…¨è„±ç¦»å‰ç«¯çš„å·¥ä½œæµæ‰§è¡Œ
- ğŸ“‹ **å·¥ä½œæµ+å‚æ•°æ‰§è¡Œ** - ç›´æ¥é€šè¿‡é…ç½®æ–‡ä»¶æ‰§è¡Œå·¥ä½œæµ
- ğŸ“‹ **å®¹å™¨åŒ–éƒ¨ç½²** - Docker/K8såŸç”Ÿæ”¯æŒ

## ğŸ“Š ä¼˜åŒ–æˆæœ

| æŒ‡æ ‡ | ä¼˜åŒ–å‰ | ä¼˜åŒ–å | æ”¹å–„ |
|------|--------|--------|------|
| **æ„å»ºäº§ç‰©å¤§å°** | ~100MB+ | 33MB | **-67%** |
| **ä¾èµ–åŒ…æ•°é‡** | 1000+ | 897 | **-103ä¸ªåŒ…** |
| **TypeScripté”™è¯¯** | 60ä¸ª | 0ä¸ª | **100%ä¿®å¤** |
| **å¯åŠ¨æ—¶é—´** | è¾ƒæ…¢ | æ˜¾è‘—æå‡ | **æ€§èƒ½ä¼˜åŒ–** |
| **å†…å­˜å ç”¨** | è¾ƒé«˜ | æ˜æ˜¾é™ä½ | **èµ„æºä¼˜åŒ–** |

## ğŸš€ å¿«é€Ÿå¼€å§‹

### ç¯å¢ƒè¦æ±‚

- Node.js 18+
- npm æˆ– yarn
- ComfyUIåç«¯æœåŠ¡

### å®‰è£…æ­¥éª¤

1. **å…‹éš†é¡¹ç›®**
```bash
git clone https://github.com/your-username/comfyui-engine.git
cd comfyui-engine
```

2. **å®‰è£…å‰ç«¯ä¾èµ–**
```bash
cd ComfyUI-Core-Frontend
npm install
```

3. **å¯åŠ¨å¼€å‘æœåŠ¡å™¨**
```bash
npm run dev
```

4. **æ„å»ºç”Ÿäº§ç‰ˆæœ¬**
```bash
npm run build
```

### é…ç½®åç«¯è¿æ¥

ç¡®ä¿ComfyUIåç«¯æœåŠ¡æ­£åœ¨è¿è¡Œï¼š
```bash
# åœ¨ComfyUIåç«¯ç›®å½•
python main.py --listen 0.0.0.0 --port 8188
```

å‰ç«¯å°†è‡ªåŠ¨è¿æ¥åˆ° `http://localhost:8188`

## ğŸ—ï¸ é¡¹ç›®ç»“æ„

```
comfyui-engine/
â”œâ”€â”€ ComfyUI-Core-Frontend/          # ç²¾ç®€å‰ç«¯é¡¹ç›®
â”‚   â”œâ”€â”€ src/
â”‚   â”‚   â”œâ”€â”€ components/             # Vueç»„ä»¶
â”‚   â”‚   â”œâ”€â”€ composables/            # ç»„åˆå‡½æ•°
â”‚   â”‚   â”œâ”€â”€ stores/                 # çŠ¶æ€ç®¡ç†
â”‚   â”‚   â”œâ”€â”€ services/               # æœåŠ¡å±‚
â”‚   â”‚   â””â”€â”€ types/                  # TypeScriptç±»å‹
â”‚   â”œâ”€â”€ dist/                       # æ„å»ºäº§ç‰© (33MB)
â”‚   â”œâ”€â”€ package.json                # ç²¾ç®€ä¾èµ–é…ç½®
â”‚   â””â”€â”€ vite.config.mts            # æ„å»ºé…ç½®
â”œâ”€â”€ .kiro/specs/                    # é¡¹ç›®è§„åˆ’æ–‡æ¡£
â””â”€â”€ README.md                       # é¡¹ç›®è¯´æ˜
```

## ğŸ”§ å¼€å‘æŒ‡å—

### å¯ç”¨è„šæœ¬

```bash
# å¼€å‘æ¨¡å¼
npm run dev

# ç±»å‹æ£€æŸ¥
npm run typecheck

# æ„å»ºç”Ÿäº§ç‰ˆæœ¬
npm run build

# ä»£ç æ ¼å¼åŒ–
npm run format

# ä»£ç æ£€æŸ¥
npm run lint
```

### æ ¸å¿ƒæŠ€æœ¯æ ˆ

- **å‰ç«¯æ¡†æ¶**: Vue 3 + TypeScript
- **æ„å»ºå·¥å…·**: Vite
- **UIç»„ä»¶**: PrimeVue
- **çŠ¶æ€ç®¡ç†**: Pinia
- **å›¾å½¢ç¼–è¾‘**: LiteGraph (å†…ç½®)

## ğŸ”Œ æ’ä»¶ç”Ÿæ€ç³»ç»Ÿ

### å½“å‰å…¼å®¹æ€§
- âœ… **100%å…¼å®¹ç°æœ‰ComfyUIæ’ä»¶** - æ— ç¼è¿ç§»
- âœ… **å·¥ä½œæµæ ¼å¼å®Œå…¨ä¸€è‡´** - ç°æœ‰å·¥ä½œæµç›´æ¥å¯ç”¨
- âœ… **APIæ¥å£ä¿æŒå…¼å®¹** - ç°æœ‰é›†æˆæ— éœ€ä¿®æ”¹

### æœªæ¥å¢å¼º (å¼€å‘ä¸­)
- ğŸ”„ **æ’ä»¶çƒ­åŠ è½½** - æ— éœ€é‡å¯å³å¯æ›´æ–°èŠ‚ç‚¹
- ğŸ”„ **å¯è§†åŒ–æ’ä»¶å¼€å‘** - å›¾å½¢åŒ–æ’ä»¶åˆ¶ä½œå·¥å…·
- ğŸ”„ **èŠ‚ç‚¹æ ‡ç­¾ç³»ç»Ÿ** - ä¸ºAPIè°ƒç”¨æä¾›è¯­ä¹‰åŒ–æ ‡è®°
- ğŸ“‹ **æ’ä»¶å¸‚åœº** - ç¤¾åŒºé©±åŠ¨çš„æ’ä»¶åˆ†å‘å¹³å°
- ğŸ“‹ **ç‰ˆæœ¬ç®¡ç†** - æ’ä»¶ç‰ˆæœ¬æ§åˆ¶å’Œä¾èµ–ç®¡ç†

### ç¤¾åŒºä¼˜å…ˆç­–ç•¥
æˆ‘ä»¬å°†æ‰€æœ‰èŠ‚ç‚¹å¼€å‘äº¤ç»™ç¤¾åŒºï¼Œä¸“æ³¨äºæä¾›ï¼š
- ğŸ› ï¸ **å¼ºå¤§çš„å¼€å‘å·¥å…·** - è®©æ’ä»¶å¼€å‘æ›´ç®€å•
- âš¡ **é«˜æ€§èƒ½è¿è¡Œæ—¶** - è®©æ’ä»¶æ‰§è¡Œæ›´å¿«é€Ÿ
- ğŸ”— **ä¸°å¯Œçš„API** - è®©é›†æˆæ›´å®¹æ˜“

## ğŸ“ˆ æ€§èƒ½ä¼˜åŒ–

### å·²å®ç°ä¼˜åŒ–
- **ä¾èµ–ç²¾ç®€** - ç§»é™¤103ä¸ªéå¿…è¦åŒ…ï¼Œå‡å°‘67%ä½“ç§¯
- **å¯åŠ¨åŠ é€Ÿ** - ç§»é™¤è®¤è¯å’Œç›‘æ§å¼€é”€ï¼Œæ˜¾è‘—æå‡å¯åŠ¨é€Ÿåº¦
- **å†…å­˜ä¼˜åŒ–** - ç²¾ç®€ä»£ç ç»“æ„ï¼Œé™ä½è¿è¡Œæ—¶å†…å­˜å ç”¨
- **æ„å»ºä¼˜åŒ–** - Tree-shakingå’Œä»£ç åˆ†å‰²ï¼Œä¼˜åŒ–åŠ è½½æ€§èƒ½

### è§„åˆ’ä¸­çš„æ€§èƒ½å¢å¼º
- **èŠ‚ç‚¹ç¼“å­˜æ¸²æŸ“** - é¦–æ¬¡æ¸²æŸ“åä¿å­˜ç»“æœï¼Œè§£å†³æ’ä»¶å¤šæ—¶åŠ è½½æ…¢é—®é¢˜
- **æ¨¡å‹ç»Ÿä¸€ç®¡ç†** - æ™ºèƒ½å»é‡å’Œå­˜å‚¨ä¼˜åŒ–ï¼ŒèŠ‚çœç£ç›˜ç©ºé—´
- **çƒ­åŠ è½½æœºåˆ¶** - æ— éœ€é‡å¯çš„èŠ‚ç‚¹æ›´æ–°ï¼Œæå‡å¼€å‘æ•ˆç‡
- **æ™ºèƒ½é¢„åŠ è½½** - åŸºäºä½¿ç”¨æ¨¡å¼é¢„æµ‹æ€§åŠ è½½å¸¸ç”¨èŠ‚ç‚¹
- **åˆ†å¸ƒå¼æ‰§è¡Œ** - æ”¯æŒå·¥ä½œæµåœ¨å¤šä¸ªèŠ‚ç‚¹é—´åˆ†å¸ƒå¼æ‰§è¡Œ

### APIæœåŠ¡å¢å¼º
- **é«˜æ€§èƒ½API** - ä¼˜åŒ–çš„REST APIï¼Œæ”¯æŒå¤§è§„æ¨¡å¹¶å‘
- **æ— å‰ç«¯æ¨¡å¼** - çº¯APIéƒ¨ç½²ï¼Œé€‚åˆæœåŠ¡å™¨ç«¯é›†æˆ
- **æ‰¹é‡æ‰§è¡Œ** - æ”¯æŒæ‰¹é‡å·¥ä½œæµæ‰§è¡Œå’Œé˜Ÿåˆ—ç®¡ç†

## ğŸ¯ ä½¿ç”¨åœºæ™¯

### 1. AIåº”ç”¨å¼€å‘
```bash
# ä½œä¸ºAIåº”ç”¨çš„å·¥ä½œæµå¼•æ“
curl -X POST http://localhost:8188/api/workflow/execute \
  -H "Content-Type: application/json" \
  -d @my_workflow.json
```

### 2. æ— å‰ç«¯éƒ¨ç½²
```bash
# çº¯APIæ¨¡å¼ï¼Œé€‚åˆæœåŠ¡å™¨é›†æˆ
python main.py --api-only --no-frontend
```

### 3. æ’ä»¶å¼€å‘
```bash
# ä½¿ç”¨çƒ­åŠ è½½å¼€å‘æ’ä»¶ (è§„åˆ’ä¸­)
comfy-engine dev --hot-reload my-plugin/
```

### 4. æ‰¹é‡å¤„ç†
```bash
# æ‰¹é‡æ‰§è¡Œå·¥ä½œæµ (è§„åˆ’ä¸­)
comfy-engine batch --workflow my_workflow.json --params params.json
```

### 5. æ¨¡å‹ç®¡ç†
```bash
# æ¨¡å‹å»é‡å’Œç»Ÿä¸€ç®¡ç† (è§„åˆ’ä¸­)
comfy-engine models --dedupe --scan-all
comfy-engine models --list --duplicates
```

## ğŸ› ï¸ æ•…éšœæ’é™¤

### å¸¸è§é—®é¢˜

**Q: æ„å»ºå¤±è´¥æ€ä¹ˆåŠï¼Ÿ**
A: ç¡®ä¿Node.jsç‰ˆæœ¬>=18ï¼Œåˆ é™¤node_modulesé‡æ–°å®‰è£…ä¾èµ–

**Q: æ— æ³•è¿æ¥åç«¯ï¼Ÿ**
A: æ£€æŸ¥ComfyUIåç«¯æ˜¯å¦åœ¨8188ç«¯å£è¿è¡Œ

**Q: æ’ä»¶ä¸å·¥ä½œï¼Ÿ**
A: æœ¬é¡¹ç›®ä¿æŒå®Œå…¨å…¼å®¹ï¼Œæ’ä»¶é—®é¢˜é€šå¸¸æ¥è‡ªåç«¯é…ç½®

**Q: å¦‚ä½•å‚ä¸æ’ä»¶å¼€å‘ï¼Ÿ**
A: å…³æ³¨æˆ‘ä»¬çš„æ’ä»¶å¼€å‘å·¥å…·å‘å¸ƒï¼Œå°†æä¾›å®Œæ•´çš„å¼€å‘ç¯å¢ƒ

### å¼€å‘è°ƒè¯•

```bash
# å¯ç”¨è¯¦ç»†æ—¥å¿—
npm run dev -- --debug

# æ£€æŸ¥ç±»å‹é”™è¯¯
npm run typecheck

# åˆ†ææ„å»ºäº§ç‰©
npm run build -- --analyze
```

## ğŸ¤ è´¡çŒ®æŒ‡å—

æ¬¢è¿è´¡çŒ®ä»£ç ï¼è¯·éµå¾ªä»¥ä¸‹æ­¥éª¤ï¼š

1. Fork é¡¹ç›®
2. åˆ›å»ºåŠŸèƒ½åˆ†æ”¯ (`git checkout -b feature/AmazingFeature`)
3. æäº¤æ›´æ”¹ (`git commit -m 'Add some AmazingFeature'`)
4. æ¨é€åˆ°åˆ†æ”¯ (`git push origin feature/AmazingFeature`)
5. å¼€å¯ Pull Request

## ğŸ“„ è®¸å¯è¯

æœ¬é¡¹ç›®åŸºäº MIT è®¸å¯è¯ - è¯·å‚é˜… [LICENSE](LICENSE) æ–‡ä»¶è·å–è¯¦ç»†ä¿¡æ¯ã€‚

## ğŸ™ è‡´è°¢

- [ComfyUI](https://github.com/comfyanonymous/ComfyUI) - åŸå§‹é¡¹ç›®
- [Vue.js](https://vuejs.org/) - å‰ç«¯æ¡†æ¶
- [PrimeVue](https://primevue.org/) - UIç»„ä»¶åº“
- [Vite](https://vitejs.dev/) - æ„å»ºå·¥å…·

## ğŸŒŸ ä¸ºä»€ä¹ˆé€‰æ‹©ComfyUI Engineï¼Ÿ

### å¯¹äºAIåº”ç”¨å¼€å‘è€…
- ğŸš€ **æ›´å¿«çš„å¯åŠ¨é€Ÿåº¦** - 33MBç²¾ç®€ä½“ç§¯ï¼Œç§’çº§å¯åŠ¨
- ğŸ”§ **å¼ºå¤§çš„API** - å®Œæ•´çš„REST APIï¼Œæ˜“äºé›†æˆ
- ğŸ“¦ **æ— å‰ç«¯éƒ¨ç½²** - æ”¯æŒçº¯APIæ¨¡å¼ï¼Œé€‚åˆæœåŠ¡å™¨ç«¯

### å¯¹äºæ’ä»¶å¼€å‘è€…
- ğŸ› ï¸ **ä¸“ä¸šå¼€å‘å·¥å…·** - å³å°†æ¨å‡ºçš„å¯è§†åŒ–æ’ä»¶å¼€å‘ç¯å¢ƒ
- âš¡ **çƒ­åŠ è½½æ”¯æŒ** - æ— éœ€é‡å¯çš„å¼€å‘ä½“éªŒ
- ğŸ·ï¸ **æ ‡ç­¾ç³»ç»Ÿ** - ä¸ºèŠ‚ç‚¹æ·»åŠ è¯­ä¹‰åŒ–æ ‡è®°

### å¯¹äºä¼ä¸šç”¨æˆ·
- ğŸ“ˆ **é«˜æ€§èƒ½** - ä¼˜åŒ–çš„æ‰§è¡Œå¼•æ“ï¼Œæ”¯æŒå¤§è§„æ¨¡éƒ¨ç½²
- ğŸ”’ **ç¨³å®šå¯é ** - ä¸“æ³¨æ ¸å¿ƒåŠŸèƒ½ï¼Œå‡å°‘æ•…éšœç‚¹
- ğŸ’¾ **å­˜å‚¨ä¼˜åŒ–** - æ¨¡å‹å»é‡ç®¡ç†ï¼ŒèŠ‚çœå­˜å‚¨æˆæœ¬
- ğŸŒ **ç¤¾åŒºé©±åŠ¨** - ä¸°å¯Œçš„æ’ä»¶ç”Ÿæ€ï¼ŒæŒç»­åˆ›æ–°

---

> **ComfyUI Engine** - ä¸‹ä¸€ä»£å·¥ä½œæµæ‰§è¡Œå¼•æ“  
> *å¼•æ“ä¸èŠ‚ç‚¹åˆ†ç¦»ï¼Œä¸“æ³¨æ‰§è¡Œæ€§èƒ½ï¼Œèµ‹èƒ½ç¤¾åŒºåˆ›æ–°*

## ğŸ“ è”ç³»æˆ‘ä»¬

- ğŸ› **é—®é¢˜åé¦ˆ**: [GitHub Issues](https://github.com/your-username/comfyui-engine/issues)
- ğŸ’¬ **è®¨è®ºäº¤æµ**: [GitHub Discussions](https://github.com/your-username/comfyui-engine/discussions)
- ğŸ“§ **å•†åŠ¡åˆä½œ**: contact@comfyui-engine.com